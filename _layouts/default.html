<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="{{ site.description }}">
  <title>{{ page.title | default: site.title }}</title>
  <link rel="canonical" href="{{ site.url }}{{ page.url }}">
  <link rel="stylesheet" href="{{ "/css/style.css" | relative_url }}">
  {% seo %}
</head>
<body>

<header class="site-header">
  <h1 class="site-title"><a href="{{ '/' | relative_url }}">letstrygg.com</a></h1>
  <p class="site-tagline">Old School Let's Plays â€” Incremental & Idle Games â€” New Games & Demos</p>
</header>

<span id="theme-toggle" style="cursor: pointer;" title="Toggle theme">ðŸŒš</span>

<main>
  {{ content }}
</main>

<script>
  const toggle = document.getElementById('theme-toggle');
  const body = document.body;
  const savedTheme = localStorage.getItem('theme');
  const prefersLight = window.matchMedia('(prefers-color-scheme: light)').matches;

  const applyTheme = (isLight) => {
    body.classList.toggle('light-theme', isLight);
    toggle.textContent = isLight ? 'ðŸŒž' : 'ðŸŒš';
    localStorage.setItem('theme', isLight ? 'light' : 'dark');
  };

  if (savedTheme === 'light' || (!savedTheme && prefersLight)) {
    applyTheme(true);
  }

  toggle.addEventListener('click', () => {
    const isNowLight = !body.classList.contains('light-theme');
    applyTheme(isNowLight);
  });
</script>

</body>
</html>
